
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Tutorial 2: Pong &#8212; Seclusion Game Engine 1.7 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial 3: Better Pong" href="pong_better.html" />
    <link rel="prev" title="Tutorial 1: Hello, world!" href="hello_world.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tutorial-2-pong">
<h1><a class="toc-backref" href="#id2">Tutorial 2: Pong</a><a class="headerlink" href="#tutorial-2-pong" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#tutorial-2-pong" id="id2">Tutorial 2: Pong</a><ul>
<li><a class="reference internal" href="#adding-game-logic" id="id3">Adding Game Logic</a><ul>
<li><a class="reference internal" href="#the-game-class" id="id4">The Game Class</a></li>
<li><a class="reference internal" href="#the-object-classes" id="id5">The Object Classes</a><ul>
<li><a class="reference internal" href="#player" id="id6">Player</a></li>
<li><a class="reference internal" href="#ball" id="id7">Ball</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#starting-the-game" id="id8">Starting the Game</a><ul>
<li><a class="reference internal" href="#loading-sprites" id="id9">Loading Sprites</a></li>
<li><a class="reference internal" href="#loading-backgrounds" id="id10">Loading Backgrounds</a></li>
<li><a class="reference internal" href="#creating-objects" id="id11">Creating Objects</a></li>
<li><a class="reference internal" href="#creating-rooms" id="id12">Creating Rooms</a></li>
<li><a class="reference internal" href="#making-the-mouse-invisible" id="id13">Making the Mouse Invisible</a></li>
<li><a class="reference internal" href="#id1" id="id14">Starting the Game</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-final-result" id="id15">The Final Result</a></li>
</ul>
</li>
</ul>
</div>
<p>Now that you've seen the basics of the SGE, it's time to create an
actual game. Although Pong might seem extremely simple, it will give you
a great foundation for developing more complex games in the future.</p>
<p>Start out by setting up the project like we did in the Hello World
tutorial.</p>
<div class="section" id="adding-game-logic">
<h2><a class="toc-backref" href="#id3">Adding Game Logic</a><a class="headerlink" href="#adding-game-logic" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-game-class">
<h3><a class="toc-backref" href="#id4">The Game Class</a><a class="headerlink" href="#the-game-class" title="Permalink to this headline">¶</a></h3>
<p>For our <a class="reference internal" href="dsp.html#sge.dsp.Game" title="sge.dsp.Game"><code class="xref py py-class docutils literal notranslate"><span class="pre">sge.dsp.Game</span></code></a> class, we want to of course provide a way
to exit the game, and in this case, we are also going to provide a way
to pause the game.  Just for the heck of it, let's also allow the player
to take a screenshot by pressing F8 and toggle fullscreen by pressing
F11.</p>
<p>Let's take it one event at a time. Our close event is simple enough:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">event_close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</pre></div>
</div>
<p>Our key press event is slightly more involved.  To take a screenshot, we
simply use a combination of <a class="reference internal" href="gfx.html#sge.gfx.Sprite.from_screenshot" title="sge.gfx.Sprite.from_screenshot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.gfx.Sprite.from_screenshot()</span></code></a> and
<a class="reference internal" href="gfx.html#sge.gfx.Sprite.save" title="sge.gfx.Sprite.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.gfx.Sprite.save()</span></code></a>.  To toggle fullscreen, we simply change the
value of <a class="reference internal" href="dsp.html#sge.dsp.Game.fullscreen" title="sge.dsp.Game.fullscreen"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sge.dsp.Game.fullscreen</span></code></a>.  To pause the game, we use
<a class="reference internal" href="dsp.html#sge.dsp.Game.pause" title="sge.dsp.Game.pause"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.dsp.Game.pause()</span></code></a>.  We end up with this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">event_key_press</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">char</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;f8&#39;</span><span class="p">:</span>
        <span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Sprite</span><span class="o">.</span><span class="n">from_screenshot</span><span class="p">()</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;screenshot.jpg&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;f11&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fullscreen</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullscreen</span>
    <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;escape&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">event_close</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;enter&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pause</span><span class="p">()</span>
</pre></div>
</div>
<p>This is incomplete, though.  When <a class="reference internal" href="dsp.html#sge.dsp.Game.pause" title="sge.dsp.Game.pause"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.dsp.Game.pause()</span></code></a> is called,
the game enters a special loop where normal events are ignored.  In
their place, we need to use &quot;paused&quot; events to give the player a chance
to unpause.  We also should allow the player to quit the game while it
is paused.  To achieve these goals, we add the special events,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.dsp.Game.event_paused_key_pressed()</span></code> and
<a class="reference internal" href="dsp.html#sge.dsp.Game.event_paused_close" title="sge.dsp.Game.event_paused_close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.dsp.Game.event_paused_close()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">event_paused_key_press</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">char</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;escape&#39;</span><span class="p">:</span>
        <span class="c1"># This allows the player to still exit while the game is</span>
        <span class="c1"># paused, rather than having to unpause first.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">event_close</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unpause</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">event_paused_close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># This allows the player to still exit while the game is paused,</span>
    <span class="c1"># rather than having to unpause first.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">event_close</span><span class="p">()</span>
</pre></div>
</div>
<p>In this case, we are defining the paused key press event to unpause the
game when any key except for the Esc key is pressed.</p>
</div>
<div class="section" id="the-object-classes">
<h3><a class="toc-backref" href="#id5">The Object Classes</a><a class="headerlink" href="#the-object-classes" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="dsp.html#sge.dsp.Object" title="sge.dsp.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">sge.dsp.Object</span></code></a> objects are things in a game that we want to be
displayed in a room.  These objects tend to represent players, enemies,
tiles, decorations, and pretty much anything else you can think of.</p>
<p>For Pong, we need three objects: the two players, and the ball.  We will
define two sub-classes of <a class="reference internal" href="dsp.html#sge.dsp.Object" title="sge.dsp.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">sge.dsp.Object</span></code></a> for this purpose:
<code class="xref py py-class docutils literal notranslate"><span class="pre">Player</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Ball</span></code>.</p>
<div class="section" id="player">
<h4><a class="toc-backref" href="#id6">Player</a><a class="headerlink" href="#player" title="Permalink to this headline">¶</a></h4>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Player</span></code> is used for the paddles.  These are what the players
control.</p>
<p>For <code class="xref py py-class docutils literal notranslate"><span class="pre">Player</span></code>, the difference between different objects is which
player controls it. Every other difference (the position, the controls,
and the direction it hits the ball) can be easily derived from that.  We
are therefore going to define <code class="xref py py-meth docutils literal notranslate"><span class="pre">Player.__init__()</span></code> to reflect this.</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Player.__init__()</span></code> will take a single argument, <code class="docutils literal notranslate"><span class="pre">player</span></code>.  This
argument will indicate which player the object is for: <code class="docutils literal notranslate"><span class="pre">1</span></code> for player
1, or <code class="docutils literal notranslate"><span class="pre">2</span></code> for player 2.  We will set a few attributes based on this:</p>
<ul class="simple">
<li><code class="xref py py-attr docutils literal notranslate"><span class="pre">up_key</span></code> will indicate the key that moves the paddle up.  We
will set it to <code class="docutils literal notranslate"><span class="pre">&quot;w&quot;</span></code> for player 1, or <code class="docutils literal notranslate"><span class="pre">&quot;up&quot;</span></code> for player 2.</li>
<li><code class="xref py py-attr docutils literal notranslate"><span class="pre">down_key</span></code> will indicate the key that moves the paddle down.  We
will set it to <code class="docutils literal notranslate"><span class="pre">&quot;s&quot;</span></code> for player 1, or <code class="docutils literal notranslate"><span class="pre">&quot;down&quot;</span></code> for player 2.</li>
<li><code class="xref py py-attr docutils literal notranslate"><span class="pre">x</span></code> is an attribute inherited from <a class="reference internal" href="dsp.html#sge.dsp.Object" title="sge.dsp.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">sge.dsp.Object</span></code></a> which
indicates the horizontal position of the object.  We will set this
based on a constant we will define (technically just a variable, since
Python doesn't support constants) called <code class="xref py py-const docutils literal notranslate"><span class="pre">PADDLE_XOFFSET</span></code>:
<code class="docutils literal notranslate"><span class="pre">PADDLE_XOFFSET</span></code> for player 1, or
<code class="docutils literal notranslate"><span class="pre">sge.game.width</span> <span class="pre">-</span> <span class="pre">PADDLE_XOFFSET</span></code> for player 2.  We will define
<code class="xref py py-const docutils literal notranslate"><span class="pre">PADDLE_XOFFSET</span></code> near the top of our code file, beneath
imports, as <code class="docutils literal notranslate"><span class="pre">32</span></code>.</li>
<li><code class="xref py py-attr docutils literal notranslate"><span class="pre">hit_direction</span></code> will indicate the direction the paddle hits the
ball.  We will set it to <code class="docutils literal notranslate"><span class="pre">1</span></code> for player 1, and <code class="docutils literal notranslate"><span class="pre">-1</span></code> for player 2.</li>
</ul>
<p>Additionally, certain attributes inherited from <a class="reference internal" href="dsp.html#sge.dsp.Object" title="sge.dsp.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">sge.dsp.Object</span></code></a>
will be the same for both <code class="xref py py-class docutils literal notranslate"><span class="pre">Player</span></code> objects.  <code class="xref py py-attr docutils literal notranslate"><span class="pre">y</span></code> will
always be <code class="docutils literal notranslate"><span class="pre">sge.game.height</span> <span class="pre">/</span> <span class="pre">2</span></code> (vertically centered).  <code class="xref py py-attr docutils literal notranslate"><span class="pre">sprite</span></code>
will always be <code class="docutils literal notranslate"><span class="pre">paddle_sprite</span></code> (a sprite we will create later).
<code class="xref py py-attr docutils literal notranslate"><span class="pre">checks_collisions</span></code> will always be <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code>, since player
objects don't need to check for collisions with each other; we can
therefore leave all collision checking to the ball object.</p>
<p>All attributes inherited from <a class="reference internal" href="dsp.html#sge.dsp.Object" title="sge.dsp.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">sge.dsp.Object</span></code></a> will be defined by
passing their values to <a class="reference internal" href="dsp.html#sge.dsp.Object.__init__" title="sge.dsp.Object.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.dsp.Object.__init__()</span></code></a>, which we will
call with <code class="docutils literal notranslate"><span class="pre">super().__init__(*args,</span> <span class="pre">**kwargs)</span></code>.  This makes our
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Player.__init__()</span></code> defintion an extension, rather than an override,
of <a class="reference internal" href="dsp.html#sge.dsp.Object.__init__" title="sge.dsp.Object.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.dsp.Object.__init__()</span></code></a>, which is important; overriding this
method would be likely to break something.</p>
<p>Our definition of <code class="xref py py-meth docutils literal notranslate"><span class="pre">Player.__init__`()</span></code> ends up looking something
like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">player</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">joystick</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">up_key</span> <span class="o">=</span> <span class="s2">&quot;w&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">down_key</span> <span class="o">=</span> <span class="s2">&quot;s&quot;</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">PADDLE_XOFFSET</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hit_direction</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">joystick</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">up_key</span> <span class="o">=</span> <span class="s2">&quot;up&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">down_key</span> <span class="o">=</span> <span class="s2">&quot;down&quot;</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">PADDLE_XOFFSET</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hit_direction</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

    <span class="n">y</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">sprite</span><span class="o">=</span><span class="n">paddle_sprite</span><span class="p">,</span> <span class="n">checks_collisions</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>We need to allow the players to move the paddles.  We could do this by
using key press events, but since we would like the players to be able
to continuously move the paddles by holding down the key, the proper way
to do this is to check for the state of the keys every frame and move
accordingly.</p>
<p><a class="reference internal" href="keyboard.html#sge.keyboard.get_pressed" title="sge.keyboard.get_pressed"><code class="xref py py-func docutils literal notranslate"><span class="pre">sge.keyboard.get_pressed()</span></code></a> returns the state of a key on the
keyboard.  We will check this in the step event to decide how the paddle
should move on any given frame.  The step event, defined by
<a class="reference internal" href="dsp.html#sge.dsp.Object.event_step" title="sge.dsp.Object.event_step"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.dsp.Object.event_step()</span></code></a>, is an event which always executes
every frame.</p>
<p>What we will do is subtract the state of <code class="xref py py-attr docutils literal notranslate"><span class="pre">up_key</span></code> from the state
of <code class="xref py py-attr docutils literal notranslate"><span class="pre">down_key</span></code>.  This will give us <code class="docutils literal notranslate"><span class="pre">-1</span></code> if only <code class="xref py py-attr docutils literal notranslate"><span class="pre">up_key</span></code> is
pressed, <code class="docutils literal notranslate"><span class="pre">1</span></code> if only <code class="xref py py-attr docutils literal notranslate"><span class="pre">down_key</span></code> is pressed, and <code class="docutils literal notranslate"><span class="pre">0</span></code> if neither
or both keys are pressed.  We can multiply this result by a constant,
which we will call <code class="xref py py-const docutils literal notranslate"><span class="pre">PADDLE_SPEED</span></code>, to get the amount that the
paddle should move this frame, and assign this value to the player's
<a class="reference internal" href="dsp.html#sge.dsp.Object.yvelocity" title="sge.dsp.Object.yvelocity"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sge.dsp.Object.yvelocity</span></code></a>, an attribute which indicates the
number of pixels an object will move vertically each frame.  We will
define <code class="xref py py-const docutils literal notranslate"><span class="pre">PADDLE_SPEED</span></code> as <code class="docutils literal notranslate"><span class="pre">4</span></code>.</p>
<p>This isn't quite enough, though.  With just this, the paddle can be
moved off-screen!  To prevent this from happening, we will check the
player object's <code class="xref py py-attr docutils literal notranslate"><span class="pre">bbox_top</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">bbox_bottom</span></code> values; these
indicate the current location of the object's bounding box.  If
<code class="xref py py-attr docutils literal notranslate"><span class="pre">bbox_top</span></code> is less than <code class="docutils literal notranslate"><span class="pre">0</span></code>, we will set it to <code class="docutils literal notranslate"><span class="pre">0</span></code>.  If
<code class="xref py py-attr docutils literal notranslate"><span class="pre">bbox_bottom</span></code> is greater than <code class="docutils literal notranslate"><span class="pre">sge.game.current_room.height</span></code>, we
will set it to <code class="docutils literal notranslate"><span class="pre">sge.game.current_room.height</span></code>.
<code class="xref py py-attr docutils literal notranslate"><span class="pre">sge.game.current_room</span></code>, as its name implies, indicates the
currently running <code class="xref py py-class docutils literal notranslate"><span class="pre">sge.game.Room</span></code> object.</p>
<p>Our step event ends up looking something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">event_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_passed</span><span class="p">,</span> <span class="n">delta_mult</span><span class="p">):</span>
    <span class="c1"># Movement</span>
    <span class="n">key_motion</span> <span class="o">=</span> <span class="p">(</span><span class="n">sge</span><span class="o">.</span><span class="n">keyboard</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">down_key</span><span class="p">)</span> <span class="o">-</span>
                  <span class="n">sge</span><span class="o">.</span><span class="n">keyboard</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">up_key</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">yvelocity</span> <span class="o">=</span> <span class="n">key_motion</span> <span class="o">*</span> <span class="n">PADDLE_SPEED</span>

    <span class="c1"># Keep the paddle inside the window</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_top</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox_top</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_bottom</span> <span class="o">&gt;</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">current_room</span><span class="o">.</span><span class="n">height</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox_bottom</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">current_room</span><span class="o">.</span><span class="n">height</span>
</pre></div>
</div>
</div>
<div class="section" id="ball">
<h4><a class="toc-backref" href="#id7">Ball</a><a class="headerlink" href="#ball" title="Permalink to this headline">¶</a></h4>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Ball</span></code> is the ball.  It is bounced back and forth by the players.
If it touches the top or bottom edge of the screen, it bounces off.  If
it passes one of the players, the other player gets a point and the ball
is returned to the playing field.</p>
<p>Any <code class="xref py py-class docutils literal notranslate"><span class="pre">Ball</span></code> object is always going to have the same initial
attributes as any other <code class="xref py py-class docutils literal notranslate"><span class="pre">Ball</span></code> object, so much like what we did
with <code class="xref py py-class docutils literal notranslate"><span class="pre">Player</span></code>, we are going to define a custom
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Ball.__init__()</span></code>.</p>
<p>In this case, it's much simpler: <code class="xref py py-attr docutils literal notranslate"><span class="pre">x</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">y</span></code> are going to
start at the center of the screen, and <code class="xref py py-attr docutils literal notranslate"><span class="pre">sprite</span></code> is going to be
<code class="docutils literal notranslate"><span class="pre">ball_sprite</span></code>.  These are attributes inherited from
<a class="reference internal" href="dsp.html#sge.dsp.Object" title="sge.dsp.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">sge.dsp.Object</span></code></a>, so we indicate them in a call to
<code class="docutils literal notranslate"><span class="pre">super().__init__</span></code>.  <code class="xref py py-meth docutils literal notranslate"><span class="pre">Ball.__init__()</span></code> ends up as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">sprite</span><span class="o">=</span><span class="n">ball_sprite</span><span class="p">)</span>
</pre></div>
</div>
<p>Since we want to serve the ball both at the start of the game and every
time the ball passes a player, we should define a <code class="xref py py-meth docutils literal notranslate"><span class="pre">Ball.serve()</span></code>
method.  This method needs to do two things: first, it needs to return
the ball to its original position in the center.  Second, it needs to
set the speed so that it moves either straight to the left or straight
to the right.  If a direction isn't specified, it needs to choose a
direction at random.</p>
<p>For the first task, we can use <a class="reference internal" href="dsp.html#sge.dsp.Object.xstart" title="sge.dsp.Object.xstart"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sge.dsp.Object.xstart</span></code></a> and
<a class="reference internal" href="dsp.html#sge.dsp.Object.ystart" title="sge.dsp.Object.ystart"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sge.dsp.Object.ystart</span></code></a>.  These attributes indicate the original
position of an object when it was first created, which in the case of
<code class="xref py py-class docutils literal notranslate"><span class="pre">Ball</span></code> objects is in the center of the screen.</p>
<p>For the second task, we have an argument called <code class="docutils literal notranslate"><span class="pre">direction</span></code>.  If it is
<code class="docutils literal notranslate"><span class="pre">None</span></code>, it randomly becomes either <code class="docutils literal notranslate"><span class="pre">1</span></code> or <code class="docutils literal notranslate"><span class="pre">-1</span></code>.  The value is then
multiplied by a constant called <code class="xref py py-const docutils literal notranslate"><span class="pre">BALL_START_SPEED</span></code>, which we will
set to <code class="docutils literal notranslate"><span class="pre">2</span></code>, and this becomes the ball's
<a class="reference internal" href="dsp.html#sge.dsp.Object.xvelocity" title="sge.dsp.Object.xvelocity"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sge.dsp.Object.xvelocity</span></code></a> value.  The ball's
<a class="reference internal" href="dsp.html#sge.dsp.Object.yvelocity" title="sge.dsp.Object.yvelocity"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sge.dsp.Object.yvelocity</span></code></a> value is then set to <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>The result looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">serve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">direction</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">direction</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xstart</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ystart</span>

    <span class="c1"># Next round</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">xvelocity</span> <span class="o">=</span> <span class="n">BALL_START_SPEED</span> <span class="o">*</span> <span class="n">direction</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">yvelocity</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Since we are now using the <code class="xref py py-mod docutils literal notranslate"><span class="pre">random</span></code> module, we need to also
import it at the top of our code file.</p>
</div>
<p>When the ball is created, we want to serve it immediately.  we will put
this in the create event, which is defined by
<a class="reference internal" href="dsp.html#sge.dsp.Object.event_create" title="sge.dsp.Object.event_create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.dsp.Object.event_create()</span></code></a>.  The create event happens whenever
the object is created in the room.  This is the create event of
<code class="xref py py-class docutils literal notranslate"><span class="pre">Ball</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">event_create</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">serve</span><span class="p">()</span>
</pre></div>
</div>
<p>For <code class="xref py py-class docutils literal notranslate"><span class="pre">Ball</span></code>'s step event, we need to do two things: cause the ball
to bounce off of the top and bottom edges of the screen, and serve the
ball when it passes the left or right edge of the screen.</p>
<p>For the first task, we do the same thing we did with <code class="xref py py-class docutils literal notranslate"><span class="pre">Player</span></code>,
but we also set whether <code class="xref py py-attr docutils literal notranslate"><span class="pre">yvelocity</span></code> is positive or negative; we
make it negative when the ball touches the bottom, and positive when the
ball touches the top.</p>
<p>For the second task, we do a similar check, but we phrase the check such
that the ball needs to be completely outside of the room, rather than
just touching the edge.  We do this by checking <code class="xref py py-attr docutils literal notranslate"><span class="pre">bbox_right</span></code>
against the left edge, and <code class="xref py py-attr docutils literal notranslate"><span class="pre">bbox_left</span></code> against the right edge.
When the ball is outside the screen, we serve it in the direction of the
player it passed (so that the player who lost the round gets initial
control of the ball).</p>
<p>Our step event for <code class="xref py py-class docutils literal notranslate"><span class="pre">Ball</span></code> ends up looking something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">event_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_passed</span><span class="p">,</span> <span class="n">delta_mult</span><span class="p">):</span>
    <span class="c1"># Scoring</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_right</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_left</span> <span class="o">&gt;</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">current_room</span><span class="o">.</span><span class="n">width</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Bouncing off of the edges</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_bottom</span> <span class="o">&gt;</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">current_room</span><span class="o">.</span><span class="n">height</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox_bottom</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">current_room</span><span class="o">.</span><span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">yvelocity</span> <span class="o">=</span> <span class="o">-</span><span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yvelocity</span><span class="p">)</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_top</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox_top</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">yvelocity</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yvelocity</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, we need to allow the players to repel the ball.  We will do this
with a collision event.  Collision events, controlled by
<a class="reference internal" href="dsp.html#sge.dsp.Object.event_collision" title="sge.dsp.Object.event_collision"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.dsp.Object.event_collision()</span></code></a>, occur when two objects touch
each other.</p>
<p>We first need to verify what type of object we're colliding with.  The
most straightforward way is to use <code class="xref py py-func docutils literal notranslate"><span class="pre">isinstance()</span></code> to check whether
or not the object being collided with, which is passed on to the
<code class="docutils literal notranslate"><span class="pre">other</span></code> argument, is an instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">Player</span></code>.  We write the
collision code for these two objects under this check.</p>
<p>The most straightforward way to do this is with directional collision
detection, but we are going to instead use <code class="xref py py-attr docutils literal notranslate"><span class="pre">Player.hit_direction</span></code>
to determine what to do.  If the <code class="xref py py-attr docutils literal notranslate"><span class="pre">other.hit_direction</span></code> is <code class="docutils literal notranslate"><span class="pre">1</span></code>,
we bounce the ball to the right.  Otherwise, we bounce the ball to the
left.</p>
<p>We need to make the ball accelerate each time the ball hits a paddle, so
that the round goes faster over time.  We will store the amount of
acceleration in a constant called <code class="xref py py-const docutils literal notranslate"><span class="pre">BALL_ACCELERATION</span></code>, which we
will define as <code class="docutils literal notranslate"><span class="pre">0.2</span></code>.  We will then set <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.xvelocity</span></code> to
<code class="docutils literal notranslate"><span class="pre">(abs(self.xvelocity)</span> <span class="pre">+</span> <span class="pre">BALL_ACCELERATION)</span> <span class="pre">*</span> <span class="pre">other.hit_direction</span></code>.</p>
<p>We also need to make the ball's vertical movement change based on where
it hits the paddle.  To do this, we will subtract <code class="xref py py-attr docutils literal notranslate"><span class="pre">other.y</span></code> from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">self.y</span></code> and multiply that by a constant called
<code class="xref py py-const docutils literal notranslate"><span class="pre">PADDLE_VERTICAL_FORCE</span></code>, which we will define as <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">/</span> <span class="pre">12</span></code>; this
value will be added to <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.yvelocity</span></code>.</p>
<p>There is one problem left, though it is not particularly obvious.  The
way we have it set up at this point, the ball will eventually move so
fast that it will fail to collide with the paddles.  This is due to how
movement works; it's not actual movement, but rather a slight change of
position done every frame.  If that change of position is too much, the
ball can pass right over a paddle.</p>
<p>To prevent this, we need to set a limit for how fast the ball can move
horizontally.  Instead of just multiplying
<code class="docutils literal notranslate"><span class="pre">(abs(self.xvelocity)</span> <span class="pre">+</span> <span class="pre">BALL_ACCELERATION)</span></code> by
<code class="xref py py-attr docutils literal notranslate"><span class="pre">other.hit_direction</span></code>, we multiply the smallest out of that, and a
new constant called <code class="xref py py-const docutils literal notranslate"><span class="pre">BALL_MAX_SPEED</span></code>, by
<code class="xref py py-attr docutils literal notranslate"><span class="pre">other.hit_direction</span></code>.  We will define <code class="xref py py-const docutils literal notranslate"><span class="pre">BALL_MAX_SPEED</span></code> as
<code class="docutils literal notranslate"><span class="pre">15</span></code>.</p>
<p>Our collision event ends up looking something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">event_collision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">xdirection</span><span class="p">,</span> <span class="n">ydirection</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Player</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">hit_direction</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bbox_left</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">bbox_right</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bbox_right</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">bbox_left</span> <span class="o">-</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">xvelocity</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xvelocity</span><span class="p">)</span> <span class="o">+</span> <span class="n">BALL_ACCELERATION</span><span class="p">,</span>
                             <span class="n">BALL_MAX_SPEED</span><span class="p">)</span> <span class="o">*</span> <span class="n">other</span><span class="o">.</span><span class="n">hit_direction</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">yvelocity</span> <span class="o">+=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="n">PADDLE_VERTICAL_FORCE</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="starting-the-game">
<h2><a class="toc-backref" href="#id8">Starting the Game</a><a class="headerlink" href="#starting-the-game" title="Permalink to this headline">¶</a></h2>
<p>It's time to get our game started.</p>
<p>We are going to pass some arguments to the creation of our <code class="xref py py-class docutils literal notranslate"><span class="pre">Game</span></code>
object: we are going to define <code class="docutils literal notranslate"><span class="pre">width</span></code> as <code class="docutils literal notranslate"><span class="pre">640</span></code>, <code class="docutils literal notranslate"><span class="pre">height</span></code> as
<code class="docutils literal notranslate"><span class="pre">480</span></code>, <code class="docutils literal notranslate"><span class="pre">fps</span></code> as <code class="docutils literal notranslate"><span class="pre">120</span></code>, and <code class="docutils literal notranslate"><span class="pre">window_text</span></code> as <code class="docutils literal notranslate"><span class="pre">&quot;Pong&quot;</span></code>.  Specify
them as keyword arguments.</p>
<div class="section" id="loading-sprites">
<h3><a class="toc-backref" href="#id9">Loading Sprites</a><a class="headerlink" href="#loading-sprites" title="Permalink to this headline">¶</a></h3>
<p>We need two sprites: a paddle sprite and a ball sprite.  We also need a
black background with a line down the middle.  We could draw these in an
image editor and load them, but since they are so simple, we are going
to generate them dynamically instead.</p>
<p>Sprites are stored as <a class="reference internal" href="gfx.html#sge.gfx.Sprite" title="sge.gfx.Sprite"><code class="xref py py-class docutils literal notranslate"><span class="pre">sge.gfx.Sprite</span></code></a> objects, so we are going
to create two of them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">paddle_sprite</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Sprite</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">48</span><span class="p">,</span> <span class="n">origin_x</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">origin_y</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="n">ball_sprite</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Sprite</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">origin_x</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">origin_y</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="gfx.html#sge.gfx.Sprite.origin_x" title="sge.gfx.Sprite.origin_x"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sge.gfx.Sprite.origin_x</span></code></a> and <a class="reference internal" href="gfx.html#sge.gfx.Sprite.origin_y" title="sge.gfx.Sprite.origin_y"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sge.gfx.Sprite.origin_y</span></code></a>
indicate the origin of the sprite.  In this case, we are setting the
origins to the center of the sprites.  This is necessary for our method
of determining how the paddles affect vertical speed to work, and it
also makes symmetry easier.</p>
<p>Currently, both of these sprites are blank.  We need to draw the images
on them.  In this case, we will just draw white rectangles that fill the
entirety of the sprites, which can be done with
<a class="reference internal" href="gfx.html#sge.gfx.Sprite.draw_rectangle" title="sge.gfx.Sprite.draw_rectangle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.gfx.Sprite.draw_rectangle()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">paddle_sprite</span><span class="o">.</span><span class="n">draw_rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">paddle_sprite</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
                             <span class="n">paddle_sprite</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">))</span>
<span class="n">ball_sprite</span><span class="o">.</span><span class="n">draw_rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ball_sprite</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">ball_sprite</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                           <span class="n">fill</span><span class="o">=</span><span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="loading-backgrounds">
<h3><a class="toc-backref" href="#id10">Loading Backgrounds</a><a class="headerlink" href="#loading-backgrounds" title="Permalink to this headline">¶</a></h3>
<p>Now we need a background.  Our sprites are white, so we need a black
background.  We could of course leave it just at that, but that would be
boring, so we are also going to also have a white line in the middle.
We can do this easily by using the paddle sprite as a background layer.
Background layers are special objects that indicate sprites that are
used in a background.  We create the layer, put it in a list, and pass
that list onto <a class="reference internal" href="gfx.html#sge.gfx.Background.__init__" title="sge.gfx.Background.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.gfx.Background.__init__()</span></code></a>'s <code class="docutils literal notranslate"><span class="pre">layers</span></code>
argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">layers</span> <span class="o">=</span> <span class="p">[</span><span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">BackgroundLayer</span><span class="p">(</span><span class="n">paddle_sprite</span><span class="p">,</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">10000</span><span class="p">,</span>
                                  <span class="n">repeat_up</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">repeat_down</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">background</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Background</span><span class="p">(</span><span class="n">layers</span><span class="p">,</span> <span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>The fourth argument of <code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.BackgroudLayer.__init__()</span></code> is the
layer's Z-axis value.  The Z-axis is used to determine what objects are
in front of what other objects; objects with a higher Z-axis value are
closer to the viewer.  The default Z-axis value is <code class="docutils literal notranslate"><span class="pre">0</span></code>.  Since we want
all objects to be in front of the layer, we set its Z-axis value to a
very low negative value.</p>
</div>
<div class="section" id="creating-objects">
<h3><a class="toc-backref" href="#id11">Creating Objects</a><a class="headerlink" href="#creating-objects" title="Permalink to this headline">¶</a></h3>
<p>Don't forget to create our objects!  In <code class="xref py py-data docutils literal notranslate"><span class="pre">player1</span></code>, store a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Player</span></code> object with the <code class="docutils literal notranslate"><span class="pre">player</span></code> argument specified as <code class="docutils literal notranslate"><span class="pre">1</span></code>.
In <code class="xref py py-data docutils literal notranslate"><span class="pre">player2</span></code>, store a <code class="xref py py-class docutils literal notranslate"><span class="pre">Player</span></code> object with the <code class="docutils literal notranslate"><span class="pre">player</span></code>
argument specified as <code class="docutils literal notranslate"><span class="pre">2</span></code>.  Finally, create a <code class="xref py py-class docutils literal notranslate"><span class="pre">Ball</span></code> object and
store it in <code class="xref py py-data docutils literal notranslate"><span class="pre">ball</span></code>.  Put all of these objects in a list and assign
this list to a variable called <code class="docutils literal notranslate"><span class="pre">objects</span></code>.</p>
</div>
<div class="section" id="creating-rooms">
<h3><a class="toc-backref" href="#id12">Creating Rooms</a><a class="headerlink" href="#creating-rooms" title="Permalink to this headline">¶</a></h3>
<p>Create a <code class="xref py py-class docutils literal notranslate"><span class="pre">Room</span></code> object.  Specify the first argument as
<code class="docutils literal notranslate"><span class="pre">objects</span></code>, and specify the keyword argument <code class="docutils literal notranslate"><span class="pre">background</span></code> as
<code class="docutils literal notranslate"><span class="pre">background</span></code>.  Don't forget to assign it to
<code class="xref py py-attr docutils literal notranslate"><span class="pre">sge.game.start_room</span></code>!</p>
</div>
<div class="section" id="making-the-mouse-invisible">
<h3><a class="toc-backref" href="#id13">Making the Mouse Invisible</a><a class="headerlink" href="#making-the-mouse-invisible" title="Permalink to this headline">¶</a></h3>
<p>Since we don't need to see the mouse cursor, we will hide it.  To do
this, set <code class="xref py py-attr docutils literal notranslate"><span class="pre">sge.game.mouse.visible</span></code> to <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code>.</p>
</div>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id14">Starting the Game</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Add a call to <code class="xref py py-meth docutils literal notranslate"><span class="pre">sge.game.start()</span></code> at the end, under a check for the
value of <code class="xref py py-data docutils literal notranslate"><span class="pre">__name__</span></code>.</p>
</div>
</div>
<div class="section" id="the-final-result">
<h2><a class="toc-backref" href="#id15">The Final Result</a><a class="headerlink" href="#the-final-result" title="Permalink to this headline">¶</a></h2>
<p>You should now have a script that looks something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>

<span class="c1"># Pong Example</span>
<span class="c1">#</span>
<span class="c1"># To the extent possible under law, the author(s) have dedicated all</span>
<span class="c1"># copyright and related and neighboring rights to this software to the</span>
<span class="c1"># public domain worldwide. This software is distributed without any</span>
<span class="c1"># warranty.</span>
<span class="c1">#</span>
<span class="c1"># You should have received a copy of the CC0 Public Domain Dedication</span>
<span class="c1"># along with this software. If not, see</span>
<span class="c1"># &lt;http://creativecommons.org/publicdomain/zero/1.0/&gt;.</span>

<span class="kn">import</span> <span class="nn">random</span>

<span class="kn">import</span> <span class="nn">sge</span>

<span class="n">PADDLE_XOFFSET</span> <span class="o">=</span> <span class="mi">32</span>
<span class="n">PADDLE_SPEED</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">PADDLE_VERTICAL_FORCE</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">12</span>
<span class="n">BALL_START_SPEED</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">BALL_ACCELERATION</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">BALL_MAX_SPEED</span> <span class="o">=</span> <span class="mi">15</span>


<span class="k">class</span> <span class="nc">Game</span><span class="p">(</span><span class="n">sge</span><span class="o">.</span><span class="n">dsp</span><span class="o">.</span><span class="n">Game</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">event_key_press</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">char</span><span class="p">):</span>
        <span class="k">global</span> <span class="n">game_in_progress</span>

        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;f8&#39;</span><span class="p">:</span>
            <span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Sprite</span><span class="o">.</span><span class="n">from_screenshot</span><span class="p">()</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;screenshot.jpg&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;f11&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fullscreen</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullscreen</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;escape&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">event_close</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;enter&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pause</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">event_close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">event_paused_key_press</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">char</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;escape&#39;</span><span class="p">:</span>
            <span class="c1"># This allows the player to still exit while the game is</span>
            <span class="c1"># paused, rather than having to unpause first.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">event_close</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">unpause</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">event_paused_close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># This allows the player to still exit while the game is paused,</span>
        <span class="c1"># rather than having to unpause first.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">event_close</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">Player</span><span class="p">(</span><span class="n">sge</span><span class="o">.</span><span class="n">dsp</span><span class="o">.</span><span class="n">Object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">player</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">up_key</span> <span class="o">=</span> <span class="s2">&quot;w&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">down_key</span> <span class="o">=</span> <span class="s2">&quot;s&quot;</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">PADDLE_XOFFSET</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hit_direction</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">up_key</span> <span class="o">=</span> <span class="s2">&quot;up&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">down_key</span> <span class="o">=</span> <span class="s2">&quot;down&quot;</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">PADDLE_XOFFSET</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hit_direction</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="n">y</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">sprite</span><span class="o">=</span><span class="n">paddle_sprite</span><span class="p">,</span> <span class="n">checks_collisions</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">event_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_passed</span><span class="p">,</span> <span class="n">delta_mult</span><span class="p">):</span>
        <span class="c1"># Movement</span>
        <span class="n">key_motion</span> <span class="o">=</span> <span class="p">(</span><span class="n">sge</span><span class="o">.</span><span class="n">keyboard</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">down_key</span><span class="p">)</span> <span class="o">-</span>
                      <span class="n">sge</span><span class="o">.</span><span class="n">keyboard</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">up_key</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">yvelocity</span> <span class="o">=</span> <span class="n">key_motion</span> <span class="o">*</span> <span class="n">PADDLE_SPEED</span>

        <span class="c1"># Keep the paddle inside the window</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_top</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bbox_top</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_bottom</span> <span class="o">&gt;</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">current_room</span><span class="o">.</span><span class="n">height</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bbox_bottom</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">current_room</span><span class="o">.</span><span class="n">height</span>


<span class="k">class</span> <span class="nc">Ball</span><span class="p">(</span><span class="n">sge</span><span class="o">.</span><span class="n">dsp</span><span class="o">.</span><span class="n">Object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">sprite</span><span class="o">=</span><span class="n">ball_sprite</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">event_create</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">serve</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">event_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_passed</span><span class="p">,</span> <span class="n">delta_mult</span><span class="p">):</span>
        <span class="c1"># Scoring</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_right</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_left</span> <span class="o">&gt;</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">current_room</span><span class="o">.</span><span class="n">width</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Bouncing off of the edges</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_bottom</span> <span class="o">&gt;</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">current_room</span><span class="o">.</span><span class="n">height</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bbox_bottom</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">current_room</span><span class="o">.</span><span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">yvelocity</span> <span class="o">=</span> <span class="o">-</span><span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yvelocity</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_top</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bbox_top</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">yvelocity</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yvelocity</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">event_collision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">xdirection</span><span class="p">,</span> <span class="n">ydirection</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Player</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">hit_direction</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">bbox_left</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">bbox_right</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">bbox_right</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">bbox_left</span> <span class="o">-</span> <span class="mi">1</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">xvelocity</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xvelocity</span><span class="p">)</span> <span class="o">+</span> <span class="n">BALL_ACCELERATION</span><span class="p">,</span>
                                 <span class="n">BALL_MAX_SPEED</span><span class="p">)</span> <span class="o">*</span> <span class="n">other</span><span class="o">.</span><span class="n">hit_direction</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">yvelocity</span> <span class="o">+=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="n">PADDLE_VERTICAL_FORCE</span>

    <span class="k">def</span> <span class="nf">serve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">direction</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">direction</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xstart</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ystart</span>

        <span class="c1"># Next round</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xvelocity</span> <span class="o">=</span> <span class="n">BALL_START_SPEED</span> <span class="o">*</span> <span class="n">direction</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">yvelocity</span> <span class="o">=</span> <span class="mi">0</span>


<span class="c1"># Create Game object</span>
<span class="n">Game</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">640</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">480</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">window_text</span><span class="o">=</span><span class="s2">&quot;Pong&quot;</span><span class="p">)</span>

<span class="c1"># Load sprites</span>
<span class="n">paddle_sprite</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Sprite</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">48</span><span class="p">,</span> <span class="n">origin_x</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">origin_y</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="n">ball_sprite</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Sprite</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">origin_x</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">origin_y</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">paddle_sprite</span><span class="o">.</span><span class="n">draw_rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">paddle_sprite</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">paddle_sprite</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                             <span class="n">fill</span><span class="o">=</span><span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">))</span>
<span class="n">ball_sprite</span><span class="o">.</span><span class="n">draw_rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ball_sprite</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">ball_sprite</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                           <span class="n">fill</span><span class="o">=</span><span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">))</span>

<span class="c1"># Load backgrounds</span>
<span class="n">layers</span> <span class="o">=</span> <span class="p">[</span><span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">BackgroundLayer</span><span class="p">(</span><span class="n">paddle_sprite</span><span class="p">,</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">10000</span><span class="p">,</span>
                                  <span class="n">repeat_up</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">repeat_down</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">background</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Background</span><span class="p">(</span><span class="n">layers</span><span class="p">,</span> <span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">))</span>

<span class="c1"># Create objects</span>
<span class="n">player1</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">player2</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ball</span> <span class="o">=</span> <span class="n">Ball</span><span class="p">()</span>
<span class="n">objects</span> <span class="o">=</span> <span class="p">[</span><span class="n">player1</span><span class="p">,</span> <span class="n">player2</span><span class="p">,</span> <span class="n">ball</span><span class="p">]</span>

<span class="c1"># Create rooms</span>
<span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">start_room</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">dsp</span><span class="o">.</span><span class="n">Room</span><span class="p">(</span><span class="n">objects</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="n">background</span><span class="p">)</span>

<span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">visible</span> <span class="o">=</span> <span class="kc">False</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>This is a basically complete Pong game, but it lacks some features.
First, this game doesn't keep track of the score.  It is left up to the
players to keep track of who is winning.  Second, there is no sound.  We
should fix both of these problems.</p>
<p>Additionally, it would be nice if our game could support joystick input.</p>
<p>In the next tutorial, we will improve on these points to make a Pong
game more on par with Atari's original Pong.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/sge_logo_alpha_black.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="index.html">Seclusion Game Engine</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="sge.html">SGE Fundamentals</a></li>
<li class="toctree-l1"><a class="reference internal" href="hello_world.html">Tutorial 1: Hello, world!</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial 2: Pong</a></li>
<li class="toctree-l1"><a class="reference internal" href="pong_better.html">Tutorial 3: Better Pong</a></li>
<li class="toctree-l1"><a class="reference internal" href="input.html">sge.input</a></li>
<li class="toctree-l1"><a class="reference internal" href="dsp.html">sge.dsp</a></li>
<li class="toctree-l1"><a class="reference internal" href="gfx.html">sge.gfx</a></li>
<li class="toctree-l1"><a class="reference internal" href="snd.html">sge.snd</a></li>
<li class="toctree-l1"><a class="reference internal" href="collision.html">sge.collision</a></li>
<li class="toctree-l1"><a class="reference internal" href="joystick.html">sge.joystick</a></li>
<li class="toctree-l1"><a class="reference internal" href="keyboard.html">sge.keyboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="mouse.html">sge.mouse</a></li>
<li class="toctree-l1"><a class="reference internal" href="s.html">sge.s</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="hello_world.html" title="previous chapter">Tutorial 1: Hello, world!</a></li>
      <li>Next: <a href="pong_better.html" title="next chapter">Tutorial 3: Better Pong</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="_sources/pong.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>